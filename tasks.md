# Upick 任务划分

洪志远

时间都是 **非考试周的预估值**

这既是任务划分，也是我自己开发的计划。

## 切图 (不确定)

指的是针对设计师的切图不适合的地方进行改进

* 入口页的切图 (**done**)
* 详情页的切图 (**done**)

## 页面划分与编写 (数天)

可能不包括其包含组件的开发。

* 入口页： entry 半天
* 店铺列表页： shopsList 一天
  * 分类组件
  * 搜索组件
* 添加新店： addShop 半天
* 详情页： shopDetail 一天
* 评价页： comment 一天
* 成功 / 失败提示页面： result 1h

## 加载动画 (一天)

可以参考饿了么的加载动画

当 **所有加载任务** 可以在 500ms 加载好的时候，不显示加载动画

（注：js脚本可能将有几百kb，图片可能有一两兆，能在 500ms 加载好，基本上可以说明有缓存）

## 状态管理 (done)

全部使用名字作为店铺的标识符

全局数据：

暂定全局数据的获取在 **加载动画时** 进行。

（三个 http 请求，并行）

* 店铺分类列表：shopTypes
* slogan: slogan
* 是否登录：loggedIn
* 用户信息：userData


## 路由划分 (整个开发过程)

页面之间的过渡为，如果下一个页面的数据已经就绪，则过渡后立刻渲染，否则过渡后显示加载动画。

设置钩子在每次跳转的时候统计埋点数据，根据状态管理里面有没有相应数据，来确定能否跳转到某个页面。

* 当没登录时，强行跳转登录页面
* 当评论区有数据时跳转，询问是否保存 (?)


## 组件划分 (一天)

基本上没有可以复用的东西

* 店家列表项： listItem, 1h
* 可预览图片（组）: imagePreview, 1h
* 分类组件： shopSubType (预留位置选择器), 1h
* 评论列表项： commentItem, 1h
* 浮动圆按钮： floatButton, 1h
* Banner： banner (预留)
* 红色浮动提示标签：errorTips (**done**)
* http 网络模块 (**done**)


## 接口封装 (**done**)

根据接口封装出前端的一个类 service


## 假数据填充 (1h)

接口没有写好的时候使用假数据填充。

目前还没有到需要使用数据的开发进程，所以没做。
